<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.kro.namohagae.global.dao.TownDao">
    <select id="findNoByDong" resultType="Integer">
        select town_no from town where town_dong=#{townDong}
    </select>
    <select id="findGu" resultType="kr.kro.namohagae.global.dto.TownDto$Gu">
        select town_gu from town
    </select>
    <select id="findTownDongByGu" resultType="kr.kro.namohagae.global.dto.TownDto$Read">
        select town_no, town_dong from town where town_gu=#{townGu}
    </select>
    <select id="findFuck" resultType="kr.kro.namohagae.global.dto.TownDto$userGuAndDong">
        select m.town_no,t.town_dong,t.town_gu from member m,town t where m.town_no=t.town_no and m.member_no = #{memberNo}
    </select>
    <select id="checkDong" resultType="Boolean">
        select count(*) from town where town_dong=#{townDong}
    </select>
    <insert id="save">
        insert into town(town_no,town_gu,town_dong,town_latitude,town_longitude) values(TOWN_SEQ_PUCHING_TOWN_NO.nextval,#{townGu},#{townDong},#{townLatitude},#{townLongitude})
    </insert>
    <delete id="delete">
        delete from town where townNo=#{townNo}
    </delete>
</mapper>